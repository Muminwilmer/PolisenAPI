<!DOCTYPE html>

<head>
  <title>Nyheter - Settings</title>
  <link rel="icon" type="image/x-icon" href="/images/settings.ico">
  <link rel="stylesheet" href="/css/index.css">
  <script type="text/javascript" src="/javascript/settings.js"></script>
  <script type="text/javascript" src="/javascript/universal.js"></script>

  <meta property="og:title" content="Nyheter | Settings" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://news.ö.icu/" />
  <meta property="og:image" content="https://news.ö.icu/images/png/settings.png" />
  <meta property="og:description" content="Se de senaste nyheterna från Sverige (LIVE)" />
  <meta name="theme-color" content="#898eab">
  
</head>

<body onload="loadSettings()">
  <div id="settings">
    <a href="/"><img id="pageButton" src="/images/favicon.ico"></a>
  </div>

  <div id="selections">
    <div id="row1">
      <!-- <div id="checkbox">
        <input type="checkbox" id="playAudio" name="PlayAudio" />
        <label for="playAudio">Play audio when there is news</label>
      </div>
      <div id="padding"></div>
      <div id="checkbox">
        <input type="checkbox" id="audioCity" name="audioCity" />
        <label for="audioCity">Only play audio from these cities</label>
      </div>
      <div id="padding"></div> -->
      <div id="checkbox">
        <input type="checkbox" id="onlySelectedCity" name="onlySelectedCity" />
        <label for="onlySelectedCity">Only show selected cities</label>
      </div>
      <div id="padding"></div>
      <div id="checkbox">
        <input type="checkbox" id="onlySelectedEvent" name="onlySelectedEvent" />
        <label for="onlySelectedEvent">Only show selected events</label>
      </div>
      <div id="padding"></div>
      <div id="checkbox">
        <input type="checkbox" id="onlySelectedBoth" name="onlySelectedBoth" />
        <label for="onlySelectedBoth">Only show both cities and events</label>
      </div>
      <div id="padding"></div>

      <div id="applyDiv">
        <button id="applySettings" onclick="applySettings()">Apply Settings</button>

      </div>
    </div>
    <div id="row2">
      <select id="selectCityList" multiple>
        <option>Alingsås</option>
        <option>Arboga</option>
        <option>Arvika</option>
        <option>Askersund</option>
        <option>Avesta</option>
        <option>Boden</option>
        <option>Bollnäs</option>
        <option>Borgholm</option>
        <option>Borlänge</option>
        <option>Borås</option>
        <option>Djursholm</option>
        <option>Eksjö</option>
        <option>Enköping</option>
        <option>Eskilstuna</option>
        <option>Eslöv</option>
        <option>Fagersta</option>
        <option>Falkenberg</option>
        <option>Falköping</option>
        <option>Falu</option>
        <option>Filipstad</option>
        <option>Flens</option>
        <option>Gränna</option>
        <option>Gävle</option>
        <option>Göteborg</option>
        <option>Hagfors</option>
        <option>Halmstad</option>
        <option>Haparanda</option>
        <option>Hedemora</option>
        <option>Helsingborg</option>
        <option>Hjo</option>
        <option>Hudiksvall</option>
        <option>Huskvarna</option>
        <option>Härnösand</option>
        <option>Hässleholm</option>
        <option>Höganäs</option>
        <option>Jönköping</option>
        <option>Kalmar</option>
        <option>Karlshamn</option>
        <option>Karlskoga</option>
        <option>Karlskrona</option>
        <option>Karlstad</option>
        <option>Katrineholm</option>
        <option>Kiruna</option>
        <option>Kramfors</option>
        <option>Kristianstad</option>
        <option>Kristinehamn</option>
        <option>Kumla</option>
        <option>Kungsbacka</option>
        <option>Kungälv</option>
        <option>Köping</option>
        <option>Laholm</option>
        <option>Landskrona</option>
        <option>Lidingö</option>
        <option>Lidköping</option>
        <option>Lindesberg</option>
        <option>Linköping</option>
        <option>Ljungby</option>
        <option>Ludvika</option>
        <option>Luleå</option>
        <option>Lund</option>
        <option>Lycksele</option>
        <option>Lysekil</option>
        <option>Malmö</option>
        <option>Mariefred</option>
        <option>Mariestad</option>
        <option>Marstrand</option>
        <option>Mjölby</option>
        <option>Motala</option>
        <option>Mölndal</option>
        <option>Nacka</option>
        <option>Nora</option>
        <option>Norrköping</option>
        <option>Norrtälje</option>
        <option>Nybro</option>
        <option>Nyköping</option>
        <option>Nynäshamn</option>
        <option>Nässjö</option>
        <option>Oskarshamn</option>
        <option>Oxelösund</option>
        <option>Piteå</option>
        <option>Ronneby</option>
        <option>Sala</option>
        <option>Sandviken</option>
        <option>Sigtuna</option>
        <option>Simrishamn</option>
        <option>Skanör med Falsterbo</option>
        <option>Skara</option>
        <option>Skellefteå</option>
        <option>Skänninge</option>
        <option>Skövde</option>
        <option>Sollefteå</option>
        <option>Solna</option>
        <option>Stockholm</option>
        <option>Strängnäs</option>
        <option>Strömstad</option>
        <option>Sundbybergs</option>
        <option>Sundsvall</option>
        <option>Säffle</option>
        <option>Säter</option>
        <option>Sävsjö</option>
        <option>Söderhamn</option>
        <option>Söderköping</option>
        <option>Södertälje</option>
        <option>Sölvesborg</option>
        <option>Tidaholm</option>
        <option>Torshälla</option>
        <option>Tranås</option>
        <option>Trelleborg</option>
        <option>Trollhättan</option>
        <option>Trosa</option>
        <option>Uddevalla</option>
        <option>Ulricehamn</option>
        <option>Umeå</option>
        <option>Uppsala</option>
        <option>Vadstena</option>
        <option>Varberg</option>
        <option>Vaxholm</option>
        <option>Vetlanda</option>
        <option>Vimmerby</option>
        <option>Visby</option>
        <option>Vänersborg</option>
        <option>Värnamo</option>
        <option>Västervik</option>
        <option>Västerås</option>
        <option>Växjö</option>
        <option>Åmål</option>
        <option>Ängelholm</option>
        <option>Örebro</option>
        <option>Öregrund</option>
        <option>Örnsköldsvik</option>
        <option>Östersund</option>
        <option>Östhammar</option>
      </select>

      <!-- Events -->
      <select id="selectEventList" multiple>
        <option>Brand</option>
        <option>Stöld</option>

        <option>Övrigt</option>
        <option>Ordningslagen</option>

        <option>Olaga intrång</option>
        <option>Sabotage mot blåljus</option>
        <option>Misshandel</option>
        <option>Trafikkontroll</option>
        <option>Polisinsats</option>

        <option>Rattfylleri</option>
        <option>Fylleri/LOB</option>

        <option>Sammanfattning natt</option>

        <option>Skadegörelse</option>

        <option>Trafikolycka, personskada</option>
        <option>Trafikolycka, singel</option>
        <option>Trafikolycka, smitning</option>

        <option>Olaga hot</option>
        <option>Vapenlagen</option>

        <option>Mord/dråp</option>
        <option>Stöld</option>

        <option>Mord/dråp, försök</option>
        <option>Stöld, försök</option>

        <option>Rån</option>
        <option>Kontroll</option>
        <option>Försvunnen person</option>
        <option>Trafikbrott</option>
        <option>Arbetsplatsolycka</option>
        <option>Narkotikabrott</option>
        <option>Olovlig körning</option>
        <option>Ofredande</option>
      </select>
      <div id="applyDiv">
        <div id="divdiv">
          <button id="clearCity" onclick="localStorage.setItem('cities', null)">Clear City Selections</button>
        </div>
        <div id="divdiv">
          <button id="clearEvent" onclick="localStorage.setItem('events', null)">Clear Event Selections</button>
        </div>
      </div>

    </div>
    <div id="row3">
    </div>
  </div>
  <script>
    async function loadSettings() {
      // Default Settings
      // if (getCookie("playAudio") !== "true" && getCookie("playAudio") !== "false") {document.cookie = "playAudio=" + "false"};
      // if (getCookie("audioCity") !== "true" && getCookie("audioCity") !== "false") {document.cookie = "audioCity=true"};
      if (localStorage.getItem('onlySelectedCity') == null){localStorage.setItem('onlySelectedCity', true)};
      if (localStorage.getItem('onlySelectedEvent') == null){localStorage.setItem('onlySelectedEvent', true)};
      if (localStorage.getItem('onlySelectedBoth') == null){localStorage.setItem('onlySelectedBoth', false)};

      // playAudio.checked = getCookie("playAudio") === "true";
      // audioCity.checked = getCookie("audioCity") === "true";
      onlySelectedCity.checked = localStorage.getItem('onlySelectedCity')
      onlySelectedEvent.checked = localStorage.getItem('onlySelectedEvent')
      onlySelectedBoth.checked = localStorage.getItem('onlySelectedBoth')

      // Fill city list
      var cityValue = JSON.parse(localStorage.getItem('cities'))
      if (cityValue !== null){
        var cityList = document.getElementById("selectCityList");
        await fillList(cityList,cityValue)
      }

      // Fill event list
      var eventValue = JSON.parse(localStorage.getItem('events'))
      if (eventValue !== null){
        var eventList = document.getElementById("selectEventList");
        await fillList(eventList,eventValue)
      }


      async function fillList(list,Info){
        // Loop entire list
        var infoArray = Info.split(',');
        for (var i = 0; i < list.options.length; i++) {

          // Loops through each saved variable
          for (var l = 0; l < Info.length; l++) {
            // If it's there, select it
            if (infoArray[l] == list.options[i].value) {
              list.options[i].selected = true;
            }
          }
        }
      }
    }
  </script>
</body>
